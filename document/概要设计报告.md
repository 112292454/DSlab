# 概要设计报告

[toc]

<!--! chenxu不会写chenxu架构, 并且数据结构也写得的像一坨大便(并且是少部分未完成)-->

## 程序架构

### 主模块

### 导航线路设计和输出

### 课程类日程管理

### 课外活动类日程管理

### 临时事务类日程管理

### 日志文件处理模块

## 数据结构

### 用户信息

```java
class User{
    /**
     * 用户名
     */
    private String name;
    /**
     * 用户密码
     */
    private String password;
    /**
     * 邮箱
     */
    private String mail;
    /**
     * 用户类别 (student/admin)
     */
    private String type;
}
```

### 建筑物的位置信息, 各条道路的距离、拥挤程度等信息

```java
class Buliding{
    /**
     * 建筑名称
     */
    private String name;
    /**
     * 建筑物坐标
     */
    private int[2] position;
}
```

```java
class Road{
    /**
     * ? 不知道怎么存
     * 道路两端坐标
     */
    private int[2][2] endPoint;
    /**
     * ? 有了上一项这个似乎不太需要了
     * 道路长度
     */
    private int length;
    /**
     * 拥挤程度
     */
    private int busyLevel;
}
```

### 日程信息

```java
class Event{
    /**
     * 日程名称
     */
    private String name;
    /**
     * 日程形式 (online / offline)
     * online 的话就不用导航
     */
    private String type;
    /**
     * 日程地点
     */
    private String position;
    /**
     * 日程日期
     */
    private String date;
    /**
     * 日程起止时间
     * 均为整点
     */
    private int[2] time;
    /**
     * 日程的周期
     * 0: 不循环
     * x: 每x天循环一次
     */
    private int cycleTime;
}
```

#### 课程的上课信息和考试信息

```java
class Lesson extends Event{
    Exam exam;
}

class Exam extends Event{

}
```

#### 个人活动和集体活动信息

```java
class Activity extends Event{
    /**
     * 活动性质 (personal / group)
     */
    private String activityType;
}
```

#### 临时事务信息

```java
class Temporary extends Event{

}
```

#### 闹钟信息

```java
/**
 * todo 没想到怎么能修改事务信息的同时闹钟里面的信息也自动改变
 */
class Clock extends Event{
    /**
     * 事务类别
     */
    private String eventType;
}
```

### 学生当前的位置信息

<!--todo 不太会处理, 似乎可以当作用户的一个属性, 但是有点不太对劲-->

### 导航策略信息和路径信息

```java
class Compass{
    /**
     * 按顺序传入两个坐标或者多个
     * 根据坐标个数决定 直达 还是 途径多点
     */
    private List<int[2]> positions;
}
```

### 日志文件: 当前时间、事件等

<!--? 如果用logback的话, 这一部分似乎就不太需要了-->
