# 需求分析报告

[toc]

## 设计背景

&emsp;&emsp;大学中每位同学每天都有学校课程、自选课程、课外活动、临时事务等多类活动, 每类活动的特点各不相同, 因而, 需要针对学生们的特殊需求, 将每天的多类活动进行有效的管理和提醒.

## 总体设计要求

### 基本需求

&emsp;&emsp;设计一款学生日程管理系统可以帮助学生管理自己的课程和各种活动, 具备课程类日程管理、课外活动日程管理和临时事务日程管理等。每天晚上系统会提醒学生第二天的所有日程; 快要到活动时间时, 系统会根据活动的类型进行相应的提醒和规划; 也可以查看一个学期的所有日程.
&emsp;&emsp;对于课程类, 邻近上课时间时会进行提醒：如果是线下课程, 会输出去教室的路线, 如果是线上课程, 会输出课程在线平台和链接; 对于课外活动类, 如果是线下活动, 会输出到活动地点的路线 (校内) , 如果是线上活动会输出活动的在线平台和链接; 对于临时事务, 可以规划几个并行事务的最佳路线, 并输出.

### 选做项目

<!--todo 待删除一个-->

- 设计导航功能的图形界面, 包括地图展示和输出路径展示;
- 能够使用课表图形界面方式进行课程管理和查询;
- 课外活动自动排期功能, 给出集体活动的可选时间和涉及到的所有个人活动的可选时间, 对集体活动和个人活动时间进行自动安排。

### 详细需求

<!--todo 不太恰当, 待修改-->

- 使用**B/S**结构, 前端使用**html+css+js**和**vue**框架, 后端使用**java**和**ssm**框架, 数据库使用**mysql**进行开发, 使系统能够实现**多用户, 多并发**;

#### 课程类日程管理需求

- 当用户根据**课程信息**、或者**通过课程表查询课程上课时间、上课地点、考试时间和考试地点**等信息, 所以在查询课程信息时, 需要能够使用高效的**查找**算法返回查询结果;
- 将用户进行分组, 并分别赋予不同的权限, 拥有管理员权限的用户可以随时**发布或修改**课程信息;
- 在**有效的时间 (8: 00-20: 00)** 内 (可以持续**1-3 个小时**), 课程均在**整点**开始或者结束, 并且可以是**周期性 (以周为单位)** 或者**单次**;
- 在每天晚上系统会提醒学生第二天的所有课程, 所以需要高效的**查找**算法;
- 临近上课时也要进行提醒, 并且根据课程形式分别输出导航路线或者在线平台链接, 所以也要求能对路径进行高效的**查找**并返回**最优解**;
- 单个同学的课程之间不允许冲突, 不同同学的同一门课程的上课时间地点应当相同, 所以需要设计合理的**校验**算法.

#### 课外活动日程需求

- 学生可以输入课外活动信息, 主要有**个人活动**和**集体活动**, 二者应当使用不同的类以示区分;
- 学生可以根据**时间**、**活动类型**进行查询, 并对查询结果进行排序, 需要使用高效的**查找**和**排序**算法以保证系统运行效率;
- 在**有效的时间 (6: 00-22: 00)** 内 (只能持续**1 个小时**), 活动均在**整点**开始或者结束, 并且可以是**周期性(以周为或者天单位)** 或者**单次**;
- 学生可以设置活动闹钟, 闹钟可以是**单词、每天一次、每周一次**及其他类型, 并且根据活动形式分别输出导航路线或者在线平台链接, 所以也要求能对路径进行高效的**查找**并返回**最优解**;
- 每天晚上系统会提醒学生第二天的所有课外活动, 所以需要高效的**查找**算法;
- 用户的各个活动或者课程之间可能会造成冲突, 所以需要进行**冲突检测**, 并返回合理的活动安排 (注意补救措施).

#### 临时事物日程管理

- 学生可以输入临时事务信息, 临时事务类型包括: 购物、洗澡、取外卖、取快递、送取东西等;
- 学生可以根据**时间、临时事务类**型进行查询, 并对查询的多个结果进行**排序**, 所以需要高效的**查询**和**排序**算法;
- 临时事务可以指定某个小时完成, 含义为该小时内完成即可, 临时事务**不考虑**持续时间 (有效临时事务完成时间为**6：00-22：00**);
- 学生可以设定临时事务闹钟, 闹钟是**一次性的**, 用于事务提醒: 输出去临时事务地点的路线, 所以需要高效的**查找路径**算法;
- 临时事务不能与课程和课外活动冲突, 如果发生冲突则输入失败, 所以需要合理的**冲突检测**算法;
- 多个临时事务可以**同时进行**, 此时需要根据这些临时事务的地点和用户所处位置规划**最佳完成路线**, 所以需要设计出一种**途径多个地点的最短距离路径**算法;

#### 日程导航

- 学生向系统输入某个日程信息或者日程信息提醒时, 系统自动进行路径规划, 所以需要**最短路径算法**;
- 日程信息可以是**课程名称**, 系统会自动根据学生最近的上课时间 (未开始) 查询上课地点; (通常是当天的课程、如果当天没有，可以提示用户，确认后可以选当周或者下一周的课程);
- 日程信息可以是**课外活动名称**, 例如班会, 系统会自动根据最近的班会时间查询班会地点;
- 日程信息可以是**临时事务名称**, 例如取快递, 系统会自动根据最近取快递事务的时间查询事务的地点;
- **最短距离策略**要求: 距离最短即可, 输出相应的路线; 路线可以是图形展示, 也可以是文字描述; ~~(或许可以是优化到 nlogn 的迪杰斯特拉)~~
- 当可以同时进行多个临时事务时, 需要使用**途经最短距离策略**: 从起点出发经过多个地点并回到起点的最短距离路径. ~~(或许可以是搜索+剪枝+限制搜索深度)~~

#### 模拟系统时间

- 系统依据时钟向前推进, 时间精度为小时, 且以计算机的 10 秒作为模拟系统的 1 小时 (可以支持快进, ~~或许可以加一个变量当作控制比例~~);
- 人机交互时暂停系统时间推进 (例如用户输入信息时); 可以通过加入时钟暂停按钮或者命令来实现.

#### 建立日志文件

- 记录学生课程、课外活动和临时事务的状态变化, 系统提醒的信息, 输出的导航信息, 以及学生输入的信息和各种查询操作.

<!--todo 待删除一个-->
#### 选做项目需求

- 在前端页面绘制一张地图, 当输出导航路径时则在地图上面进行路线绘制;
- 前端页面应包含登录界面, 用户信息, 课程管理和查询入口等模块;
- 使用排序算法和冲突检测自动对课外活动进行排期, 并返回合理的可选时间.
