~~蒟蒻写的一堆 O(N)的算法, 完全没看出来高效在哪~~

对于课程和考试, 只有管理员可以添加或者修改

并且管理员一旦添加某项课程, 该管理员管辖下的所有学生(即: 与管理员 groupId 相同的学生)都将会自动有该课程

活动类课程和临时事务类的日程只允许学生添加 ~~禁止管理员滥用权力~~

添加日程是直接加到 event 表内, 生成 event_id 后获取并和 group_id, user_id 形成一组映射关系并添加到到关系表中

~~固定每天晚上由**定时器调用一个接口**检查已完成日程, 如果日程 date + cycle <= 当前日期, 则可以删除该日程, 注意记录删除的日程 id, 并删除在关系表中的映射关系~~**<font color=RED>禁止删除数据库内容</font>**

每天晚上由定时器调用接口查询第二天的所有日程, 用一个 hashmap _(或许需要自己手写)_ 保存 (定时器需要提供一个获取时间接口, 能够获取到当前时间以便于选取当天课程)

每个小时又双叒是定时器调用接口进行日程提醒 (怎么给前端发提醒呢? websocket)

注意添加时判断各种事件的有效时间

时间问题, 0~24, [starttime, endtime), duration = endtime - starttime

起止时间均使用时间戳(转换成字符串格式, 操作的时候转换成小时数, 注意时区), 日期使用时间戳算出距离 1970-1-1 的天数 (注意时区, 同样使用字符串), 循环天数和持续时间则正常整型

判断一下日程时间输入, 活动和临时事务只能是一小时, 均为类似于 [6, 7) 的时间格式

集体活动的冲突最少的时间似乎没有意义(有点意义, 但感觉不多)

判断冲突需要考虑循环日期(120 天之内不冲突即可添加)(中国剩余定理)

字符串的精确和模糊匹配似乎可以用字典树实现(或者正则?)

是否有必要最开始就读取所有数据关系 ?

增加的 activityType 要求在活动类型的时候搜索

新增的闹钟类型事件没有冲突

2023-04-08 19:55:12 更新成功
